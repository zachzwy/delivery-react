(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{58:function(e,t,a){e.exports=a(81)},63:function(e,t,a){},71:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(43),c=a.n(r),i=(a(63),a(16)),l=a(44),s=a.n(l),u=a(85),m=a(54),d=a(50),p=a(55),f=a(37),v=a.n(f),O=a(45),E=a(31),g=a(32),h=Object(n.createContext)({currentUser:null,isAuth:!1}),b="https://delivery-my-settle-down.herokuapp.com/graphql",w=function(){var e=Object(n.useContext)(h).dispatch,t=function(){var t=Object(O.a)(v.a.mark(function t(a){var n,o,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.getAuthResponse().id_token,o=new g.GraphQLClient(b,{headers:{authorization:n}}),t.next=4,o.request("\n{\n  me {\n    _id\n    name\n    email\n    picture\n  }\n}\n");case 4:r=t.sent,e({type:"LOGIN_USER",payload:r.me}),e({type:"IS_LOGGED_IN",payload:a.isSignedIn()});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return o.a.createElement(E.GoogleLogin,{clientId:"766269806662-4gfqgidctg4vgrm4nki36g8kt9feo8t1.apps.googleusercontent.com",render:function(e){var t=e.onClick;return o.a.createElement("button",{className:"login-button",onClick:t},"LOGIN")},onSuccess:t,onFailure:function(t){console.error("Error logging in",t),e({type:"IS_LOGGED_IN",payload:!1})},isSignedIn:!0})},j=function(){var e=Object(n.useContext)(h),t=e.state,a=e.dispatch;return o.a.createElement(E.GoogleLogout,{onLogoutSuccess:function(){a({type:"LOGOUT_USER"})},render:function(e){var a=e.onClick;return o.a.createElement("button",{className:"logout-button",onClick:a},"HI, ".concat(t.currentUser.name.toUpperCase()))}})},N=function(e){var t=e.navClass,a=Object(n.useContext)(h).state;return o.a.createElement("nav",{className:t},o.a.createElement("span",null,"MY SETTLE DOWN"),o.a.createElement("ul",null,o.a.createElement("li",null,a.currentUser?o.a.createElement(j,null):o.a.createElement(w,null)),o.a.createElement("li",{className:"nav-hide"},o.a.createElement("a",{href:"https://zachzwy.github.io/delivery-react/#secondPage"},"EXPLORE"))))};function S(e){var t=e.fullpageApi;return o.a.createElement("div",{id:"intro"},o.a.createElement("p",null,"EASY MOVE"),o.a.createElement("h1",null,"We save your moving cost by pairing you with others and sharing Truck"),o.a.createElement("button",{id:"start-button",onClick:function(){return t.moveSectionDown()}},"START"))}var y=a(33),C=a(15);var k="pk.eyJ1IjoiemFjaHp3eSIsImEiOiJjanczeWZ1aGYxOW05M3pwczRkZ3A1NGJ4In0.BFX8cW_ZygtvgjIvrwhT1g";function M(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),o=a[0],r=a[1];Object(n.useEffect)(function(){c(e)},[e]);var c=function(e,t){if(""!==e){var a="https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e,".json?access_token=").concat(k);fetch(a).then(function(e){return e.json()}).then(function(e){r(e.features)}).catch(function(e){return console.log(e.message)})}};return o}var I=a(30),T=a(23),A=a(39);function D(){var e=function(e){var t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],r=a[1];return{inputs:o,handleChange:function(e){var t=e.target,a=t.name,n=t.value;r(Object(C.a)({},o,Object(y.a)({},a,n)))},handleSubmit:function(t){t.preventDefault(),r(e)}}}({from:"",to:"",item:"",dateOption:"",date:"",timeStart:"",timeEnd:"",quote:"$30-60",firstName:"",lastName:"",phone:""}),t=function(e){var t=Object(n.useState)(e),a=Object(i.a)(t,2),o=a[0],r=a[1];return{uiState:o,handleKeyPressForUi:function(e){var t=e.target,a=t.name,n=t.value;if(""!==n.trim()||"Tab"!==e.key){if(""!==n.trim()&&"Enter"===e.key||"Tab"===e.key)switch(a){case"from":r(Object(C.a)({},o,{classOfTo:"active"}));break;case"to":r(Object(C.a)({},o,{classOfItem:"active"}))}}else e.preventDefault()},handleSelectionChangeForUi:function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"item":return void r(Object(C.a)({},o,{classOfDate:"active"}));case"dateOption":return void r(Object(C.a)({},o,{classOfSubmit:"active",classOfNext:"none",classOfCustomizedDate:"none-works"===n?"active":"none"}));default:return}},handleClickSubmit:function(e){r({classOfFrom:"none",classOfTo:"none",classOfItem:"none",classOfDate:"none",classOfCustomizedDate:"none",classOfSubmit:"none",classOfNext:"none",classOfProgress:"none",classOfForm:"none",classOfAfterSubmit:"active"})}}}({classOfFrom:"",classOfTo:"none",classOfItem:"none",classOfDate:"none",classOfCustomizedDate:"none",classOfName:"none",classOfSubmit:"none",classOfNext:"next",classOfAfterSubmit:"none"}),a=e.inputs.from,r=e.inputs.to,c=M(a),l=M(r),s=c&&c.map(function(e){return e.place_name}),u=l&&l.map(function(e){return e.place_name}),m=function(e,t){var a=Object(n.useState)({}),o=Object(i.a)(a,2),r=o[0],c=o[1],l=Object(n.useState)({zoom:12,latitude:37.788,longitude:-122.417,bearing:0,pitch:0}),s=Object(i.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)([]),p=Object(i.a)(d,2),f=p[0],v=p[1],O=Object(n.useState)(),E=Object(i.a)(O,2),g=E[0],h=E[1],b=function(e,t){var a,n,o,c;if(e){var l=e.bbox?e.bbox:[e.center[0]-.001,e.center[1]-.001,e.center[0]+.001,e.center[1]-.001],s=Object(i.a)(l,4);a=s[0],n=s[1],o=s[2],c=s[3]}else a=Math.min.apply(Math,Object(I.a)(t.map(function(e){return e[0]}))),o=Math.max.apply(Math,Object(I.a)(t.map(function(e){return e[0]}))),n=Math.min.apply(Math,Object(I.a)(t.map(function(e){return e[1]}))),c=Math.max.apply(Math,Object(I.a)(t.map(function(e){return e[1]})));var d=new A.a(u),p=d.fitBounds([[a,n],[o,c]],{padding:50}),f=p.longitude,v=p.latitude,O=p.zoom;m(Object(C.a)({},d,{zoom:O,latitude:r.from?v:e.center[1],longitude:r.from?f:e.center[0],transitionInterpolator:new T.b,transitionDuration:3e3}))},w=function(e,t){var a="".concat(e.longitude,",").concat(e.latitude,";").concat(t.longitude,",").concat(t.latitude),n="https://api.mapbox.com/directions/v5/mapbox/driving/".concat(a,"?steps=true&access_token=").concat(k);fetch(n).then(function(e){return e.json()}).then(function(e){var t=e.routes[0].legs[0].steps.map(function(e){return e.intersections[0].location});v(t),h(Math.floor(e.routes[0].legs[0].duration/60)),b(null,t)}).catch(function(e){return console.log(e.message)})};return{viewport:u,handleViewportChange:function(e){m(Object(C.a)({},u,e))},handleUpdateMap:function(a){var n=a.target,o=n.name,i=n.value;if("Enter"===a.key&&""!==i.trim())if("from"===o){var l=e[0];c(Object(C.a)({},r,{from:{longitude:l.center[0],latitude:l.center[1]}})),r.to?w({longitude:l.center[0],latitude:l.center[1]},r.to):b(l,null)}else if("to"===o){var s=t[0];c(Object(C.a)({},r,{to:{longitude:s.center[0],latitude:s.center[1]}})),w(r.from,{longitude:s.center[0],latitude:s.center[1]})}},location:r,points:f,duration:g}}(c,l),d=m.viewport,p=m.handleViewportChange,f=m.handleUpdateMap,v=m.location,O=m.points,E=m.duration,g={"size-i":20,"size-ii":40,"size-iii":60,"size-iv":120}[e.inputs.item];return o.a.createElement("div",{id:"info"},o.a.createElement(F,{viewport:d,handleViewportChange:p,location:v,points:O,duration:E,loadingTime:g}),o.a.createElement(x,Object.assign({},e,t,{dropdownDataFromList:s,dropdownDataToList:u,handleUpdateMap:f})))}function L(e){var t=e.width,a=e.classOfProgress;return o.a.createElement("div",{className:"progress ".concat(a)},o.a.createElement("div",{className:"bar",style:{width:"".concat(100*t,"%")}}))}function x(e){for(var t=e.inputs,a=e.handleChange,r=e.handleSubmit,c=e.uiState,i=e.handleKeyPressForUi,l=e.handleSelectionChangeForUi,s=e.handleClickSubmit,u=e.dropdownDataFromList,m=e.dropdownDataToList,d=e.handleUpdateMap,p=Object(n.useContext)(h).state,f=0,v=0,O=[c.classOfTo,c.classOfItem,c.classOfDate,c.classOfSubmit];v<O.length;v++){"active"===O[v]&&f++}var E=f/4;return o.a.createElement("div",{id:"form-container"},o.a.createElement("form",{id:"form",className:c.classOfForm,onSubmit:r},o.a.createElement(L,{width:E,classOfProgress:c.classOfProgress}),o.a.createElement("label",{className:c.classOfFrom},"I WANT TO MOVE FROM:",o.a.createElement("br",null),o.a.createElement("datalist",{id:"dropdownDataFromList"},u&&u.map(function(e){return o.a.createElement("option",{key:e,value:e})})),o.a.createElement("input",{type:"text",name:"from",value:t.from,placeholder:"Pick up location...",list:"dropdownDataFromList",onChange:a,onKeyDown:function(e){i(e),d(e)},autoComplete:"off",required:!0})),o.a.createElement("label",{className:c.classOfTo},"I WANT TO MOVE TO:",o.a.createElement("br",null),o.a.createElement("datalist",{id:"dropdownDataToList"},m&&m.map(function(e){return o.a.createElement("option",{key:e,value:e})})),o.a.createElement("input",{type:"text",name:"to",value:t.to,placeholder:"Drop off location...",list:"dropdownDataToList",onChange:a,onKeyDown:function(e){i(e),d(e)},autoComplete:"off",required:!0})),o.a.createElement("label",{className:c.classOfItem},"I WANT TO MOVE:",o.a.createElement("br",null),o.a.createElement("select",{name:"item",id:"item",onChange:function(e){a(e),l(e)},onKeyDown:function(e){"Tab"===e.key&&e.preventDefault()}},o.a.createElement("option",{value:"default",defaultChecked:!0},"Choose Your Moving Item Size"),o.a.createElement("option",{value:"size-i"},"Items that fit into a SUV"),o.a.createElement("option",{value:"size-ii"},"Sofa, bed frame, etc"),o.a.createElement("option",{value:"size-iii"},"Studio or one bedroom"),o.a.createElement("option",{value:"size-iv"},"Larger than one bedroom"))),o.a.createElement("label",{className:c.classOfDate},"I WANT TO MOVE ON:",o.a.createElement("br",null),o.a.createElement("select",{name:"dateOption",onChange:function(e){a(e),l(e)},onKeyDown:function(e){"Tab"===e.key&&e.preventDefault()}},o.a.createElement("option",{value:"default",defaultChecked:!0},"Choose Your Moving Date"),o.a.createElement("option",{value:"07/19/2019/0900AM-1200AM"},"08/19/2019 --- 09:00AM - 12:OOAM --- $30"),o.a.createElement("option",{value:"07/20/2019/0900AM-1200AM"},"08/20/2019 --- 09:00AM - 12:OOAM --- $30"),o.a.createElement("option",{value:"07/21/2019/0900AM-1200AM"},"08/21/2019 --- 09:00AM - 12:OOAM --- $30"),o.a.createElement("option",{value:"07/22/2019/0900AM-1200AM"},"08/22/2019 --- 09:00AM - 12:OOAM --- $30"),o.a.createElement("option",{value:"none-works"},"None works"))),o.a.createElement("label",{className:c.classOfCustomizedDate},"NONE OF ABOVE WORKS. ADD MY AVAILABILITIES:",o.a.createElement("br",null),o.a.createElement("input",{type:"date",className:"date",name:"date",value:t.date,onChange:a}),o.a.createElement("br",null),o.a.createElement("input",{type:"time",className:"time-start",name:"timeStart",value:t.timeStart,onChange:a}),o.a.createElement("span",{className:"time-start-span"},"FROM:"),o.a.createElement("input",{type:"time",className:"time-end",name:"timeEnd",value:t.timeEnd,onChange:a}),o.a.createElement("span",{className:"time-end-span"},"TO:"),o.a.createElement("span",{id:"quote"},t.quote)),o.a.createElement("label",{className:c.classOfSubmit},o.a.createElement("input",{type:"button",name:"submit",className:"submit",value:p.currentUser?"SUBMIT":"LOGIN TO SUBMIT",disabled:!p.currentUser,onClick:s})),o.a.createElement("label",{className:c.classOfNext},"active"===c.classOfItem?"Select to move on":"Enter to move on",o.a.createElement("div",{className:"next-ani"},"\u2193"))),p.currentUser?o.a.createElement("div",{className:c.classOfAfterSubmit},o.a.createElement("div",{id:"thanks"},"THANKS, ".concat(p.currentUser.name.toUpperCase(),". WE WILL CONFIRM WITH YOU SHORTLY."))):null)}function U(e){var t=e.points,a=e.color,n=void 0===a?"red":a,r=e.lineWidth,c=void 0===r?2:r,i=e.renderWhileDragging,l=void 0===i||i;return o.a.createElement(T.a,{redraw:function(e){var a=e.width,o=e.height,r=e.ctx,i=e.isDragging,s=e.project;e.unproject;r.clearRect(0,0,a,o),r.globalCompositeOperation="lighter",!l&&i||!t||(r.lineWidth=c,r.strokeStyle=n,r.beginPath(),t.forEach(function(e){var t=s([e[0],e[1]]);r.lineTo(t[0],t[1])}),r.stroke())}})}var z=function(e){var t=parseInt(e/60,10),a=e-60*t;return t>0?0===a?"".concat(t," h"):"".concat(t," h ").concat(a," min"):"".concat(e," min")};a(69),a(70);function F(e){var t=e.viewport,a=e.handleViewportChange,r=e.location,c=e.points,l=e.duration,s=e.loadingTime,u=Object(n.useState)("none"),m=Object(i.a)(u,2),d=m[0],p=m[1],f=o.a.createRef(),v=c[[parseInt(c.length/2,10)]],O=z(l),E=z(s),g=z(l+2*s);return o.a.createElement("div",{id:"map-container"},o.a.createElement("div",{className:"time-in-total-position"},s?o.a.createElement("span",{className:"time-in-total"},"Time in Total: ",g):null,o.a.createElement("div",{className:d},"Press Ctrl to Zoom In")),o.a.createElement("div",{id:"map",onMouseOver:function(){return p("ctrl-zoom")},onMouseOut:function(){return p("none")}},o.a.createElement(T.d,Object.assign({ref:f},t,{width:"100%",height:"100%",mapStyle:"mapbox://styles/zachzwy/cj1gxz24v001d2so0hxzi16zw",onViewportChange:function(e){return a(e)},mapboxApiAccessToken:k}),r.from?o.a.createElement(T.c,{latitude:r.from.latitude,longitude:r.from.longitude},o.a.createElement("div",{className:"pin"},"\u2912")):null,r.to?o.a.createElement(o.a.Fragment,null,o.a.createElement(U,{points:c}),o.a.createElement(T.c,{latitude:r.to.latitude,longitude:r.to.longitude},o.a.createElement("div",{className:"pin"},"\u2913")),o.a.createElement(T.c,{latitude:v?v[1]:0,longitude:v?v[0]:0},o.a.createElement("div",{className:"duration"},"Driving: ".concat(O)))):null,r.to&&s?o.a.createElement(o.a.Fragment,null,o.a.createElement(T.c,{latitude:r.from.latitude,longitude:r.from.longitude},o.a.createElement("div",{className:"loading"},"Loading: ".concat(E))),o.a.createElement(T.c,{latitude:r.to.latitude,longitude:r.to.longitude},o.a.createElement("div",{className:"unloading"},"Unloading: ".concat(E)))):null)))}var W=a(47),G=a(48),_=a(56),P=a(49),R=a(57),V={cursor:"pointer",fill:"white",stroke:"none"};n.PureComponent;var q=function(e,t){switch(t.type){case"LOGIN_USER":return Object(C.a)({},e,{currentUser:t.payload});case"IS_LOGGED_IN":return Object(C.a)({},e,{isAuth:t.payload});case"LOGOUT_USER":return Object(C.a)({},e,{isAuth:!1,currentUser:null});default:return e}},B=(a(71),new d.a({uri:"wss://delivery-my-settle-down.herokuapp.com/graphql",options:{reconnect:!0}})),K=new m.a({link:B,cache:new p.a});var Y=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useContext)(h),l=Object(n.useReducer)(q,c),m=Object(i.a)(l,2),d=m[0],p=m[1],f=function(){var e=document.querySelector("body");r("fp-viewing-secondPage"===e.className?"dark":"")};return Object(n.useEffect)(function(){return window.addEventListener("transitionend",f),function(){return window.removeEventListener("transitionend",f)}},[]),o.a.createElement(u.a,{client:K},o.a.createElement(h.Provider,{value:{state:d,dispatch:p}},o.a.createElement(N,{navClass:a}),o.a.createElement(s.a,{anchors:["firstPage","secondPage"],render:function(e){e.state;var t=e.fullpageApi;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"section",id:"background"},o.a.createElement(S,{fullpageApi:t})),o.a.createElement("div",{className:"section"},o.a.createElement(D,null)))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[58,1,2]]]);
//# sourceMappingURL=main.6658d91a.chunk.js.map